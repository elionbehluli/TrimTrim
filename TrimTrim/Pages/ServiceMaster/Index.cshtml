@page
@model TrimTrim.Pages.ServiceMaster.IndexModel

<style>
    /* Custom styling for the search form */
    .search-form {
        background-color: #2c3e50; /* Dark blue color */
        color: #fff; /* White text */
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 5px;
    }

    /* Style for the search input and button */
    .search-input {
        margin-right: 10px;
    }

    /* Style for the table */
    .service-table {
        width: 100%;
        margin-top: 20px;
    }

        /* Style for the table headers */
        .service-table th {
            background-color: #2c3e50; /* Dark blue color */
            color: #fff; /* White text */
        }

        /* Style for alternating rows in the table */
        .service-table tbody tr:nth-child(even) {
            background-color: #f2f2f2; /* Light gray color */
        }

        /* Style for the table cells */
        .service-table td {
            padding: 10px;
        }

    /* Style for the "Create New" link */
    .create-new-link {
        margin-top: 20px;
    }
</style>

<div class="container">

    <!-- Search form with custom styling -->
    <form method="post" class="search-form">
        <div class="form-group search-input">
            <label for="SearchTerm">Search:</label>
            <input type="text" asp-for="Search.SearchTerm" class="form-control" />
        </div>
        <button type="submit" class="btn btn-light">Search</button>
    </form>

    <h2>Services</h2>

    @if (User.IsInRole("Admin"))
    {
        <p class="create-new-link">
            <a asp-page="./Create">Create New</a>
        </p>
    }

    <!-- Table with custom styling -->
    <table class="table service-table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Service[0].Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Service[0].Price)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var service in Model.Service)
            {
                <tr>
                    <td>
                        @service.Name
                    </td>
                    <td>
                        @service.Price
                    </td>
                    <td>
                        <a asp-page="./Details" asp-route-id="@service.Id">Details</a>
                        @if (User.IsInRole("Admin"))
                        {
                            <a asp-page="./Edit" asp-route-id="@service.Id">Edit</a>
                            <a asp-page="./Delete" asp-route-id="@service.Id">Delete</a>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>
